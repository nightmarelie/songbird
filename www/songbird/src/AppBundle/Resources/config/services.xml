<?xml version="1.0" ?>
<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

	<services>
	    <service id="songbird.admin.user" class="AppBundle\Admin\UserAdmin">
			<tag name="sonata.admin" manager_type="orm" group="admin" label="User"/>
			<argument>null</argument>
			<argument>AppBundle\Entity\User</argument>
			<argument>AppBundle:UserAdmin</argument>
			<call method="setUserManager">
			    <argument type="service" id="fos_user.user_manager" />
			</call>
		</service>
	    <service id="songbird.admin.user.show.filter" class="AppBundle\Event\UserCustomAction">
       		<tag name="kernel.event_listener" event="sonata.admin.event.configure.show" method="sonataAdminCheckUserRights" />
   		</service>
   		<service id="songbird.admin.user.form.filter" class="AppBundle\Event\UserCustomAction">
      		<tag name="kernel.event_listener" event="sonata.admin.event.configure.form" method="sonataAdminCheckUserRights" />
   		</service>
	</services>
</container>
